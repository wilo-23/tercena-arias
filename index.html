<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>POS Tercenas Arias</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{background:black;color:white;text-align:center;padding:10px}
header img{height:80px}
.container{display:flex;height:calc(100vh - 120px)}
.products{flex:2;padding:10px;display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.products button{padding:15px;font-size:16px;background:#111;color:white;border:none;border-radius:8px}
.cart{flex:1;background:white;padding:10px;display:flex;flex-direction:column}
#cartItems{flex:1;overflow:auto}
.total{font-size:20px;font-weight:bold;margin:10px 0}
.methods button{margin-top:5px;padding:10px;border:none;border-radius:6px;background:black;color:white}
#openDrawer{background:#c40000}
.keyboard{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;margin-top:10px}
.keyboard button{padding:15px;font-size:18px}
#display{font-size:24px;text-align:right;border:2px solid black;padding:5px;margin-top:5px}
</style>
</head>

<body>

<header>
<img src="logotipo.png">
<h2>TERCENAS ARIAS</h2>
</header>

<div class="container">

<div class="products">
<button onclick="selectProduct('Pollo Entero')">Pollo Entero</button>
<button onclick="selectProduct('Pollo (Info: $3 lb)')">Pollo x Libra</button>
<button onclick="selectProduct('Alas (Info: $2.50 lb)')">Alas</button>
<button onclick="selectProduct('Pechuga (Info: $3.50 lb)')">Pechuga</button>
<button onclick="selectProduct('Molleja (Info: $2.80 lb)')">Molleja</button>
<button onclick="selectProduct('Menudencia (Info: $1.50 lb)')">Menudencia</button>
<button onclick="selectProduct('Presas (Info: $3 lb)')">Presas</button>
</div>

<div class="cart">

<div id="cartItems"></div>
<div class="total" id="total">Total: $0.00</div>

<div>Precio:</div>
<div id="display">0</div>

<div class="keyboard">
<button onclick="press(7)">7</button>
<button onclick="press(8)">8</button>
<button onclick="press(9)">9</button>
<button onclick="press(4)">4</button>
<button onclick="press(5)">5</button>
<button onclick="press(6)">6</button>
<button onclick="press(1)">1</button>
<button onclick="press(2)">2</button>
<button onclick="press(3)">3</button>
<button onclick="press('.')">.</button>
<button onclick="press(0)">0</button>
<button onclick="clearDisplay()">C</button>
</div>

<div class="methods">
<button onclick="addToCart()">Agregar</button>
<button onclick="finishSale()">Finalizar Venta</button>
<button onclick="downloadPDF()">Imprimir PDF</button>
<button id="openDrawer" onclick="openDrawer()">Abrir Caja</button>
<button onclick="newSale()">Nueva Venta</button>
</div>

</div>
</div>

<script>
let selectedProduct="";
let display="0";
let cart=[];
let total=0;

function selectProduct(name){
selectedProduct=name;
}

function press(num){
if(display=="0") display="";
display+=num;
document.getElementById("display").innerText=display;
}

function clearDisplay(){
display="0";
document.getElementById("display").innerText=display;
}

function addToCart(){
if(!selectedProduct) return alert("Seleccione producto");
let price=parseFloat(display);
cart.push({name:selectedProduct,price:price});
total+=price;
renderCart();
clearDisplay();
}

function renderCart(){
let div=document.getElementById("cartItems");
div.innerHTML="";
cart.forEach(item=>{
div.innerHTML+=`<div>${item.name} - $${item.price.toFixed(2)}</div>`;
});
document.getElementById("total").innerText="Total: $"+total.toFixed(2);
}

function finishSale(){
alert("Venta Finalizada - Total: $"+total.toFixed(2));
}

function downloadPDF(){
let content=`
TERCENAS ARIAS
-----------------------
${cart.map(i=>i.name+" - $"+i.price.toFixed(2)).join("\n")}
-----------------------
TOTAL: $${total.toFixed(2)}
Gracias por su compra
`;
let element=document.createElement("pre");
element.innerText=content;
html2pdf().from(element).save("Recibo_Tercenas_Arias.pdf");
}

function openDrawer(){
alert("ðŸ’µ Caja Abierta");
}

function newSale(){
cart=[];
total=0;
renderCart();
clearDisplay();
}
</script>

</body>
</html>
